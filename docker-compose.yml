version: "3.8"

services:
  qdrant:
    image: qdrant/qdrant:latest
    container_name: qdrant
    ports:
      - "127.0.0.1:6333:6333" # HTTP API (localhost only)
      - "127.0.0.1:6334:6334" # gRPC API (localhost only)
    volumes:
      - ./qdrant_storage:/qdrant/storage
    networks:
      - civic_network
    restart: unless-stopped

  redis:
    image: redis:alpine
    container_name: redis_cache
    ports:
      - "127.0.0.1:6379:6379" # localhost only
    volumes:
      - ./redis_data:/data
    networks:
      - civic_network
    restart: unless-stopped

networks:
  civic_network:
    driver: bridge
